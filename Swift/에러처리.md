# 예외처리
- `do`
- `try`
- `catch`

<br>

- `try` 키워드를 사용하여 에러가 발생할 수 있는 코드를 실행하고, 에러가 발생하면 `catch` 블록에서 해당 에러를 처리할 수 있다.
- `catch` 블록에서는 특정 오류만 처리할 수 있다.

<br>

- `try?`, `try!`와 같이 에러를 간편하게 처리할 수 있는 방법을 제공한다.
  - `do`, `catch`를 사용하지 않아도 된다.
 
<br>

- `throws`
  - 함수가 에러를 던질 수 있다는 것을 명시하기 위해 사용되며, 함수의 파라미터 뒤에 `throws` 키워드를 작성한다.
  - 함수 내부에서 에러가 발생하면 `throw`를 사용하여 에러를 던질 수 있다.
    - 에러를 던진다 = 에러를 처리해주는 곳으로 전달해준다
  - 에러는 함수를 호출한 곳에서 처리해야 한다.

<br>
 
```swift
func fetchData(url: String) throws -> String  {
  guard let url = URL(string: url) else {
    throw NSError(domain: "Invalid URL", code: 404, userInfo: nil)
  }
  return "Data"
}
```
```
enum NetworkError: Error {
  case badURL(String)
  case requestFailed
}

do {
    let data = try fetchData(url: "https://invalid.url")
    print("Data received: \(data)")
} catch NetworkError.badURL(let stringValue){
    print("Invalid URL.")
    print(stringValue)
} catch NetworkError.requestFailed {
    print("Request failed.")
} catch {
    print("Unknown error: \(error)") // 위에 catch에서 잡히지 않은 모든 에러
}
```

<br>

- `catch`에 특정 에러만 처리할 수 있다.
- `catch`의 코드블록 안에서 error 변수에 접근하여 작업할 수 있다.
- `catch`에서 error 변수의 이름을 변경할 수 있다.
```swift
catch(let customError) {
  print("Unknown error: \(customError)") // 위에 catch에서 잡히지 않은 모든 에러

}

<br>

```swift
// do catch를 생략하고 try? try!를 사용하는 방법

let data = try? fetchData(url: "https://invalid.url")
// try?는 에러가 발생하면 nil을 반환한다.
print(data ?? "No data") // No data

let data = try! fetchData(url: "https://valid.url")
// try!는 에러가 발생하면 크래시가 발생한다.
print(data)
```

<br>

- `try?`와 `try!`
  - `try?` 에러가 발생하면 nil을 반환하여 간단하게 처리할 수 있지만 에러의 구체적인 원인을 파악하기 어렵다.
  - `try!`는 에러가 발생하면 앱이 크래시가 나므로 조심해서 사용해야 한다.
