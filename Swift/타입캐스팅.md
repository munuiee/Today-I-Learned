# 타입 캐스팅
인스턴스의 타입을 확인하거나 특정 타입으로 변환하는 방법

<br>

- `class`에서 상속 관계를 이용한 타입 캐스팅이 주로 사용되며, `struct`과 `enum`에서는 상속을 통한 타입 캐스팅을 지원하지 않는다.
- `is`: 타입을 확인하는 키워드.
  - 타입이 특정 클래스이거나 하위클래스인 경우 `ture` 반환, 아니라면 `false`

- 타입을 변환하는 키워드
  - `as`: 슈퍼클래스로 변환하는 타입캐스팅 방법 (업캐스팅)
  - `as?`: 서브클래스로 변환하는 타입캐스팅 방법. Optional 값으로 다운캐스팅됨.
  - `as!`: 서브클래스로 변환하는 타입캐스팅 방법. 실패하면 앱 크래시 발생

👉 인스턴스 이름 + `타입캐스팅의 키워드(is, as, as?, as!)` + 특정 타입

<br>

###  `is` 
```swift
class Animal {
  var name: String
  var age: Int

  init(name: String, age: Int) {
    self.name = name
    self.age = age
  }
}

class Person: Animal {
  var job: String

  init(name: String, age: Int, job: String) {
    self.job = job
    super.init(name: name, age: age)
  }
}

class Car()

let person = Person(name: "Ganadi", age: 1, job: "puppy")
let animal = Animal(name: "gonyani", age: 1)

print(person in Peron) // true: person의 타입 Person은 Person과 같으므로
print(person is Animal) // true: person의 타입 Person은 Animal의 하위타입이므로
print(person is Car) // false: person의 타입 Person은 Car와 관련이 없으므로

print(animal is Person) // fasle: animal의 타입 Animal은 Person의 상위 타입이므로
print(animal is Animal) // true: animal의 타입 Animal은 Animal과 같으므로
print(animal is Car) // false: animal의 타입 Animal은 Car와 관련이 없으므로
```

 <br>

 ### `as`, `as?`, `as!`
 ```swift
class Animal {
  var name: String
  var age: Int

  init(name: String, age: Int) {
    self.name = name
    self.age = age
  }
}

class Person: Animal {
  var job: String?

  init(name: String, age: Int, job: String) {
    self.job = job
    super.init(name: name, age: age)
  }
}

class Car {

}

// Upcasting as
let person2 = Person(name: "가나디", age: 1, job: "puppy")
let personToAnimal = person2 as Animal // person2 To Animal로 업캐스팅
print(personToAnimal)

// Downcasting as?, as!

// Person으로 인스턴스를 생성했지만 타입은  Animal로 명시했기 때문에 Animal Type
let person: Animal = Person(name: "gonyani", age: 1, job: "cat")
let animalToPerson = person as? Person
print(animalToPerson?.job) // Optional("Cat")

let animal = Animal(name: "damgom", age: 3)
let animalToPerson2 = animal as? Person
print(animalToPerson2) // nil: Person에 있는 job이 Animal로 생성하면 없으므로 다운캐스팅 실패
```
